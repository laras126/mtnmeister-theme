// ----
// Rotate
// ----

// Navy by default
.rotate {
	@include rotate($text: $text-light, $bkgd: $accent-dark, $link-clr: $accent-light);
	border-top: $accent-border-large;
}



// ----
// WP classes
// ----

.alignleft {
	float: left;
}

.alignright {
	float: right;
}



// ----
// Spacers
// ----

.spacer-top {
	margin-top: $base;
}

.spacer-bot {
	margin-bottom: $base;
}



// ----
// Bleeds
// ----

// TODO: it'd be better to remove these hard-coded percentages, and make them gutters or something based on the grid. Oh well, for now at least.

@mixin bleed {
    @include bp(med) {
        width: 108%;
        margin-right: -4%;
        margin-left: -4%;
    }
}

// Otherwise known as "squish"
@mixin inverse-bleed {
    @include bp(med) {
        margin-left: 7%;
        margin-right: 7%;
    }
}

.inverse-bleed {
    @include inverse-bleed;
}

.bleed {
    @include bleed;
}

    .bleed-left {
        @include bp(med) {
            margin-left: -8%;
        }
    }

    .bleed-right {
        @include bp(med) {
            margin-right: -8%;
        }
    }



// ----
// Misc
// ----

.visually-hidden {
    position: absolute;
    top: -9999999px;
    left: -999999px;
}



// ----
// Typography
// ----

.special {
    color: $accent-med;
}

@mixin upperspace {
    text-transform: uppercase;
    letter-spacing: 1px;
}

%meta,
.meta {
    color: $text-meta;
     @include upperspace;
    font-size: $sml;
    font-weight: 400;
}

.meta-desc {
    font-size: $sml;
    font-weight: 400;
}

.expired {
    color: $alert-danger;
    font-style: italic;
}

.current {
    color: $alert-success;
}


// -- Utility classes

.text-center {
    text-align: center;
}

.text-left {
    text-align: left;
}

.text-right {
    text-align: right;
}

%center-block {
    display: block;
    margin: 0 auto;
}



// ----
// Lazyloading
// ----

.lazyload {
    min-height: 300px;
}

.lazyload,
.lazyloading {
    opacity: 0;
}
.lazyloaded {
    opacity: 1;
    transition: opacity 300ms;
}

.blur-up {
    -webkit-filter: blur(5px);
    filter: blur(5px);
    transition: filter 400ms, -webkit-filter 400ms;
}

.blur-up.lazyloaded {
    -webkit-filter: blur(0);
    filter: blur(0);
}

// .gallery {
//   background: #EEE;
//   margin-bottom: $h2;
//   border: $accent-border;
//   padding: $sml;
// }


// .gallery {
//   background: #FAFAFA;
// }

// .gallery-cell {
//   width: 28%;
//   height: 300px;
//   margin-right: 10px;
//   background: #8C8;
//   border-radius: 5px;
//   background-position: center center;
//   background-size: cover;
// }


// .gallery img {
//   border: $accent-border;
//   // display: block;
//   // height: 500px;
//   // margin-right: $sml;
// }


// // .gallery {
// //   background: #FAFAFA;
// //   margin-bottom: ;
// // }

// .gallery-cell {
//   // width: 100%;
//   // height: 500px;
//   // margin-right: 10px;
//   // background: #333;
//   // display: flex;
//   // flex-direction: column;
//   // justify-content: center;

//   // .caption {
//   //   // align-self: flex-end;
//   //   text-align: center;
//   //   color: $accent-light;
//   // }

// }



// .carousel-cell {
//   width: 66%;
//   height: 400px;
//   margin-right: 10px;
//   background: #333;
// }

// .carousel-cell-image {
//   display: block;
//   max-height: 100%;
//   margin: 0 auto;
//   max-width: 100%;
//   opacity: 0;
//   -webkit-transition: opacity 0.4s;
//           transition: opacity 0.4s;
// }

// /* fade in lazy loaded image */
// .carousel-cell-image.flickity-lazyloaded,
// .carousel-cell-image.flickity-lazyerror {
//   opacity: 1;
// }

.carousel {
  // background: #FAFAFA;
  margin-bottom: $h2;
  border-radius: 5px;
}

.carousel-cell {
  width: 50%;
  height: 400px;
  margin-right: 10px;
  background: $accent-light;
  border: $accent-border;
  border-radius: 5px;
  background-position: center center;
  background-size: cover;
  opacity: 0.1;
}

/* fade in lazy loaded image */
.flickity-bg-lazyloaded,
.flickity-lazyerror {
  opacity: 1;
  transition: opacity 0.2s;
}

// .flickity-viewport {
//   transition: height 0.2s;
// }
